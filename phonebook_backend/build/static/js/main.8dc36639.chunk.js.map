{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/SearchField.js","service/Service.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","onSubmit","newName","newNumber","onChangeName","onChangeNumber","value","onChange","type","Person","person","onDelete","style","display","name","number","onClick","SearchField","newSearch","displayAll","baseUrl","axios","get","then","response","data","post","id","newPerson","put","delete","Notification","message","notificationStyle","color","fontStyle","fontSize","border","error","includes","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","toShow","setToShow","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","string","shouldShow","filter","slice","length","preventDefault","window","confirm","oldPerson","find","newPerson_updated","returnedPerson","persons_copy","map","setTimeout","catch","concat","i","obj_arr","ignored","newPersons","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8dc36639.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({onSubmit, newName, newNumber, onChangeName, onChangeNumber}) => {\n  return (\n    <form onSubmit = {onSubmit}>\n      <div>\n        Name: <input value={newName} onChange = {onChangeName}/>\n      </div>\n      <div>\n        Number <input value={newNumber} onChange = {onChangeNumber}/>\n      </div>\n      <div>\n        <button type='submit'>Add person</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({person, onDelete}) => {\n  return (\n    <div>\n      <p style={{display:'inline'}}>{person.name} {person.number}</p>\n      <button onClick = {onDelete}>Delete</button> \n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst SearchField = ({newSearch, onChange, displayAll}) => {\n  return (\n    <div>\n      Filter: <input style={{display:'inline'}} value={newSearch} onChange={onChange}/>\n      <button onClick = {displayAll}>Display All</button>\n    </div>\n  )\n}\n\nexport default SearchField","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = person => {\n  const request = axios.post(baseUrl, person)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import React from 'react'\n\nconst Notification = ({message}) => {\n  \n  let notificationStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16,\n    border: '3px solid green' \n  }\n\n  if (message === null) {\n    return null\n  }\n\n  else if (typeof message === 'object') {\n    notificationStyle = {\n      color:'red',\n      fontStyle: 'bold',\n      fontSize: 16,\n      border: '3px solid red' \n    }\n    return (\n      <div style={notificationStyle}>\n        {message.error}\n      </div>\n    )\n  }\n  \n  \n  else if (message.includes('not')) {\n    notificationStyle = {\n      color:'red',\n      fontStyle: 'bold',\n      fontSize: 16,\n      border: '3px solid red' \n    }\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport SearchField from './components/SearchField'\nimport personService from './service/Service'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  \n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [toShow, setToShow] = useState(persons)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        setToShow(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const inPersons = persons.filter(person => person.name === newPerson.name).length > 0\n    if (!inPersons) {\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setToShow(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(\n            `${newPerson.name} was added to the phonebook`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n          setNewName('')\n          setNewNumber('')\n        })\n    } else {\n      const replace = window\n                        .confirm(`${newPerson.name} is already in the phonebook, replace the old number with a new one?`)\n      if (replace) {\n        const oldPerson = persons.find(person => person.name === newPerson.name)\n        const newPerson_updated = {...oldPerson, number: newPerson.number}\n        personService\n          .update(newPerson_updated.id, newPerson_updated)\n          .then(returnedPerson => {\n            const persons_copy = persons.map(person => person.id === newPerson_updated.id ? returnedPerson : person)\n            setPersons(persons_copy)\n            setToShow(persons_copy)\n            setNewName('')\n            setNewNumber('')\n            setErrorMessage(\n              `${newPerson_updated.name}Â´s number was updated`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n          }).catch(error => {\n            if (error.response.data.error.includes('number')) {\n              setErrorMessage(error.response.data)\n            } else {\n              setErrorMessage(\n                `Information on ${newPerson_updated.name} was not found, it has been removed from the server`\n              )\n            }\n            setNewName('')\n            setNewNumber('')\n            personService\n              .getAll()\n              .then(initialPersons => {\n                setPersons(initialPersons)\n                setToShow(initialPersons)\n              })\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n          })\n      }\n    }\n  }\n\n  const deletePerson = (id) => {\n    const obj_arr = persons.filter(person => person.id === id)\n    const person = {...obj_arr[0]}\n    const result = window.confirm(`Delete ${person.name} ?`)\n    if (result) {\n      personService\n        .remove(id)\n        .then(ignored => {\n          const newPersons = persons.filter(person => person.id !== id)\n          setPersons(newPersons)\n          setToShow(newPersons)\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Information on ${person.name} was not found, it has been removed from the server`\n          )\n          setNewName('')\n          setNewNumber('')\n          personService\n            .getAll()\n            .then(initialPersons => {\n              setPersons(initialPersons)\n              setToShow(initialPersons)\n            })\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    //here occurs the search logic\n    //must\n    setNewSearch(event.target.value)\n    const string = newSearch\n    if (string === '') {\n      setToShow(persons)\n    } else {\n      const shouldShow = persons.filter(person => person.name.slice(0,string.length).includes(string))\n      setToShow(shouldShow)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SearchField newSearch = {newSearch} onChange = {handleSearchChange} displayAll = {() => setToShow(persons)}/>\n      <h3>Add a new person to the phonebook</h3>\n      <Notification message = {errorMessage}/>\n      <PersonForm onSubmit ={addPerson} \n      newName = {newName} \n      newNumber = {newNumber} \n      onChangeName ={handleNameChange}\n      onChangeNumber = {handleNumberChange} \n      />\n      <h2>Numbers</h2>\n        {/* <Phonebook persons = {toShow} ids = {toShow.map(person => person.id)}/> */}\n        <div>\n          {toShow.map((person, i) => \n            <Person key={i+1} person={person} onDelete = {() => deletePerson(person.id)}/>\n          )}\n        </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}